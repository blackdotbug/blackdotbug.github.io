import{c as L,a as m,t as J}from"../chunks/D2irQyQW.js";import{aE as W,aF as Y,aG as Z,b as N,h as R,R as Q,a3 as X,_ as I,e as S,U as $,an as aa,aH as B,aa as ea,aI as na,D as G,E as b,G as O,F as ta,l as e,B as v,v as ra,w as E}from"../chunks/ach0CUkZ.js";import{a as D,s as F,b as U,d as H,n as j,p as A,e as T,i as sa}from"../chunks/CO7IJUMw.js";import{h as ia}from"../chunks/CH7d7BOv.js";import{e as oa,s as C,i as ca,L as la,a as ua,b as ga}from"../chunks/CjH87BVx.js";import{b as M,i as fa,g as ha}from"../chunks/DI9YIvEU.js";function da(t,a,o){R&&Q();var c=t,r=$,n,i=W()?Y:Z;N(()=>{i(r,r=a())&&(n&&X(n),n=I(()=>o(c)))}),R&&(c=S)}function q(t,a,...o){var c=t,r=B,n;N(()=>{r!==(r=a())&&(n&&(ea(n),n=null),n=I(()=>r(c,...o)))},aa),R&&(c=S)}const ma=na;function _a(t,a){return t.protocol!==a.protocol?a.href:a.password||a.username?"//"+[a.username,a.password].filter(Boolean).join(":")+"@"+a.host+a.pathname+a.search+a.hash:t.host!==a.host?"//"+a.host+a.pathname+a.search+a.hash:a.pathname+a.search+a.hash}function va(t,a,o){const c=new URL(o??"/",a).pathname;return t.origin!==a.origin||!t.pathname.startsWith(c)}var La=J('<link rel="alternate">');function ba(t,a){G(a,!0);const[o,c]=F(),r=()=>H(A,"$page",o),n=v(()=>j(M,new URL(r().url))||"/"),i=(s,f)=>{const l=[];for(const p of a.availableLanguageTags){const _=f.getLocalisedPath(s,p),h=U(_,e(n),void 0),d=new URL(h,new URL(r().url)).href;l.push(d)}return l},y=v(()=>T(r().url.pathname,e(n))[0]),w=v(()=>a.strategy.getCanonicalPath(e(y),a.currentLang)),P=v(()=>i(e(w),a.strategy));var k=L(),u=b(k);{var g=s=>{var f=L(),l=b(f);oa(l,17,()=>e(P),ca,(p,_,h)=>{var d=La();ta(()=>{C(d,"hreflang",a.availableLanguageTags[h]),C(d,"href",e(_))}),m(p,d)}),m(s,f)};D(u,s=>{a.availableLanguageTags.length>=1&&s(g)})}m(t,k),O(),c()}const pa=(t,a)=>`${la}=${t};Path=${a};SameSite=lax;Max-Age=31557600`;function ya(t,a){G(a,!0);const[o,c]=F(),r=()=>H(A,"$page",o),n=v(()=>j(M,new URL(r().url))||"/"),i=v(()=>a.languageTag??a.i18n.getLanguageFromUrl(r().url));ra(()=>{a.i18n.config.runtime.setLanguageTag(e(i)),document.documentElement.lang=e(i),document.documentElement.dir=a.i18n.config.textDirection[e(i)]??"ltr"});let y=0;E(()=>{e(i)&&(y+=1)}),E(()=>{e(i)&&(y>1||ma)&&fa(ga)});function w(u,g){try{const s=new URL(ha(A).url),[f,l]=T(s.pathname,e(n)),p=a.i18n.strategy.getCanonicalPath(f,e(i)),_=new URL(s);_.pathname=U(p,e(n),l);const h=new URL(u,new URL(_));if(va(h,s,e(n))||a.i18n.config.exclude(h.pathname))return u;const d=g??e(i),[z,K]=T(h.pathname,e(n)),V=a.i18n.strategy.getLocalisedPath(z,d),x=new URL(h);return x.pathname=U(V,e(n),K),_a(s,x)}catch{return u}}ua({translateHref:w}),E(()=>{document.cookie=pa(e(i),e(n))});var P=L();ia(u=>{var g=L(),s=b(g);{var f=l=>{ba(l,{get availableLanguageTags(){return a.i18n.config.runtime.availableLanguageTags},get strategy(){return a.i18n.strategy},get currentLang(){return e(i)}})};D(s,l=>{a.i18n.config.seo.noAlternateLinks!==!0&&!a.i18n.config.exclude(r().url.pathname)&&l(f)})}m(u,g)});var k=b(P);da(k,()=>e(i),u=>{var g=L(),s=b(g);q(s,()=>a.children??B),m(u,g)}),m(t,P),O(),c()}const Pa=!0,ka="always",xa=Object.freeze(Object.defineProperty({__proto__:null,prerender:Pa,trailingSlash:ka},Symbol.toStringTag,{value:"Module"}));function Ca(t,a){ya(t,{i18n:sa,children:(o,c)=>{var r=L(),n=b(r);q(n,()=>a.children),m(o,r)},$$slots:{default:!0}})}export{Ca as component,xa as universal};
